---
permalink: /guides/microprofile-eclipse-codewind
---
:page-layout: guide
:page-duration: 20 minutes
:page-releasedate: 2019-10-18
:page-description: Learn how to create, run, update, deploy, and deliver a simple cloud native application using the Eclipse MicroProfile Kabanero Collection
:page-tags: ['Collection', 'MicroProfile', 'Eclipse']
:page-guide-category: collections
= Developing cloud native microservice applications with the Java MicroProfile Kabanero Collection and Eclipse IDE

//	Copyright 2019 IBM Corporation and others.
//
//	Licensed under the Apache License, Version 2.0 (the "License");
//	you may not use this file except in compliance with the License.
//	You may obtain a copy of the License at
//
//	http://www.apache.org/licenses/LICENSE-2.0
//
//	Unless required by applicable law or agreed to in writing, software
//	distributed under the License is distributed on an "AS IS" BASIS,
//	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//	See the License for the specific language governing permissions and
//	limitations under the License.
//

[.hidden]
NOTE: This repository contains the guide documentation source. To view
the guide in published form, view it on the https://kabanero.io/guides/{projectid}.html[website].

// =================================================================================================
// What you'll learn
// =================================================================================================

== What you will learn

You will learn how to build a simple containerized microservice application from a Kabanero Java MicroProfile
Collection in your Eclipse IDE.

The Kabanero Collection you will use for this example is `java-microprofile`. If you are a Java developer and are familiar with the Spring framework, you could choose to go with the `java-spring-boot2` Kabanero Collection instead. Sample microservices applications used with Spring are shown in the https://kabanero.io/guides/collection-springboot2/[Developing  cloud  native  microservices  with  the  Spring  Boot  Collection  and  Appsody CLI guide].

// =================================================================================================
// Prerequisites
// =================================================================================================

== Prerequisites

. You must have https://docs.docker.com/get-started/[Docker] installed.
. You must install the *Eclipse Codewind Extension* from the https://marketplace.eclipse.org/content/codewind[Eclipse Marketplace], which creates a *CODEWIND* workspace and downloads Docker images to your Docker registry.
. (Optional) If you have an enterprise-specific Kabanero Collection Hub,
you need the URL to your index file.

Everything is now set up, and you're ready to create your first project!

// =================================================================================================
// Getting started
// =================================================================================================

== Getting started

Kabanero brings together open source technologies that provide a framework for developing cloud native microservice
applications. As a developer, you are likely to have a preferred IDE for writing application
code. In this guide, we are going to develop a simple containerized microservice application that is
based on the Java MicroProfile Kabanero Collection in the Eclipse IDE.

Kabanero contains Appsody, which is designed to enable applications to be built and tested inside a Docker container.
To access Appsody functions from your IDE, you need Eclipse Codewind, a plugin that provides a rich user interface that integrates
seamlessly into the Eclipse IDE. Codewind also provides performance and monitoring tools to help you test and debug applications
in containers.

When you install *Eclipse Codewind*, an extension to Appsody is automatically installed as part of your
*CODEWIND* workspace. By default, Codewind is configured to use the latest Appsody stacks that are
available in the Appsody GitHub repository. However, those stacks are not integrated with Kabanero.
In order to use Appsody with Kabanero you need to configure Codewind to use a Kabanero Collection Hub.

== Configuring your environment to use a Kabanero Collection Hub

As a developer, your enterprise architect might provide you with the URL of a Kabanero Collection Hub that your
organisation has defined for developers to use. If not, you should clone the *public* Kabanero Collection
Hub locally. The public collection is updated on a regular basis, so by making a copy, you avoid adopting unplanned changes.

To keep things simple in this guide you will add the latest *public* Kabanero Collection Hub repository instead of a clone of
a Kabanero Collection Hub repository.

With *Codewind* installed, make sure you have it showing in one of the Eclipse side panels. If you cannot see Codewind Explorer,
go to the *Menu Bar* and select *Window* > *Show View* > *Other* > *Codewind Explorer* and press *OK*.

Now we can edit the Template Sources where Codewind expects to find the Collections. Right-click *Projects (Local)* and
select *Manage Template Sources*. A new box appears with a list of template sources, including *Standard Codewind Templates*,
and *Appsody Stacks*.

image::/img/guide/add-source.png[link="/img/guide/add-source.png" alt="Diagram shows popup to add a new Source to Codewind."]

Kabanero Collections might already be showing in this list. If so, enable it with the *tick box*.
If Kabanero Collections are not in the list, select *Add* and enter `Kabanero Collections` as a description. In the URL field,
enter `https://github.com/kabanero-io/collections/releases/latest/download/kabanero-index.json`.

*Note*: If you've been provided with a Kabanero Collection Hub URL for your organisation you can repeat the last step to add it.

Uncheck the box for Appsody Stacks so that the list of templates contains only Kabanero Collections.

Codewind is now configured to use the *public* Kabanero Collection Hub.

== Initializing your project

In the Codewind Explorer view, right-click on **Projects** and select **Create New Project** to get a list of available Collections.

image::/img/guide/rightclick-project.png[link="/img/guide/rightclick-project.png" alt="Diagram shows popup to create a new Project."]

In this guide, we are going to create a `java-microprofile` microservice application.

From the **Create a new project** window, choose the *Kabanero Eclipse MicroProfile Template*, as shown in the following diagram:

image::/img/guide/create-project.png[link="/img/guide/create-project.png" alt="Diagram shows popup to create a new Project."]

Choose a suitable name for your project and select *Finish* to save it.

Your new project is created, built, and compiled inside an Appsody Docker container. To see the status of the build, right-click the project in *Codewind Explorer*, select *Show Log Files* and chose *Appsody.log*. This will open the logs for the Docker container in a *Console Window*.

When the application is compiled and running on localhost, the status changes from **[Stopped] [Build Successful]** to **[Running] [Build Successful]**. Right-click the project in Codewind Explorer and select *Open Application* to view the app running on your local machine.

image::/img/guide/open-application.png[link="/img/guide/open-application.png" alt="Diagram shows the open application option."]

*Note*: This takes longer the first time it runs because dependencies are downloaded and installed.

== Understanding the project layout

Projects are created with a default set of files, which you can find in a Project Explorer in your *CODEWIND-WORKSPACE*.

image::/img/guide/project-explorer.png[link="/img/guide/project-explorer.png" alt="Diagram shows the Project Explorer view.""]

Open the Application by right-clicking the Project from the Codewind Explorer and selecting **Open Application**.

The Eclipse browser opens to display *"Welcome to your Appsody Microservice"* on `http://127.0.0.1:<local_port_number>/`. Make a note
of the `<local_port_number>` for your next task.

== Creating and updating the application

You are now going to create a new route that listens on `http://127.0.0.1:<local_port_number>/starter/hello`.

In *Project Explorer*, right click on the `dev.appsody.starter` package located inside the `Java Resources` > `src/main/java` folder and create a new file called `HelloResource`. Ensure you are using the `Java Resources` directory and not the raw path located beneath this section.

Add the following code to this new file:

```
package dev.appsody.starter;

import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;


@Path("/")
public class HelloResource {
    @GET
    @Path("hello")
    @Produces(MediaType.TEXT_PLAIN)
    public String helloWorld() {
        return "Hello World!";
    }
}
```

Save the changes.

Codewind watches for file changes and automatically recompiles your application. Point your browser to
`http://127.0.0.1:<local_port_number>/starter/hello` to see your new route, which displays **Hello World!**.

This code is creating a new path on `/hello` to return a String to the browser saying *Hello World!*. The starter part of the full URL comes from the `StarterApplication.java` file, which defines the routes as all beginning with `/starter`.

== Testing and debugging the application

You can perform a number of operations through the Eclipse Codewind Explorer interface
that help you develop, test, and debug your application. Right-click on your project to see a
list of available tasks:

image::/img/guide/rightclick-options.png[link="/img/guide/rightclick-options.png" alt="Diagram shows the right click options"]

- you can disable the automated build of your project and build it on demand
- you can restart your application in run mode or debug mode
- you can view the available logs to troubleshoot issues
- you can find information about the running app in **Open Project Overview**. Eclipse displays information about your project, including the location, status, and any ports in use. The output is similar to the
following screenshot:

image::/img/guide/project-overview.png[link="/img/guide/project-overview.png" alt="Diagram shows the Project Overview page."]

- you can stop the application, by clicking the *Disable project* button.

At some stage in development, you might want to do some local
performance testing. As well as checking whether your code runs cleanly, Codewind
provides application metrics and performance monitoring. For more information about
developing applications with Eclipse Codewind, see the
https://www.eclipse.org/codewind/mdteclipsegettingstarted.html[Codewind
documentation].

Congratulations! You have now learned the basic steps for developing a microservice
application in Eclipse that's based on the Java MicroProfile Kabanero Collection.


// =================================================================================================
// Delivering your application
// =================================================================================================

== Delivering your application

When you've finished developing and testing your microservice application on your local system, the
next stage in the process is to test the application on a kubernetes or Knative environment. Your
role in the overall process might end by delivering your changes to a GitHub repository. Here, your
operations team can automate the deployment of your microservice application to kubernetes or Knative by implementing
Tekton webhooks that trigger Tekton pipelines.

Want to learn about Tekton? Using Tekton pipelines to deploy microservice applications is covered
in different guide.
